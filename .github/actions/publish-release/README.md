# publish-release composite action

This action allows you to set up a release cycle for 
your image without worrying about the hard stuff.

Please see one of the examples in the [workflows directory](../../workflows).

## Inputs

### `image` (*Required*)

The name of the image. This should map to `images/<name>.dockerfile` and 
`images/<name>/` (the directory where the image resources are stored).

### `dry-run` (*Optional*)

Defaults to `false`. If set to anything but false, will build and tag
the image, as well as create the slack notification, but will not
push the release.

### `github-token` (*Required*)

Set this to `${{ secrets.GITHUB_TOKEN }}`.

This token allows the workflow to publish the new docker image within the 
uwit-iam namespace. This secret is auto-generated by github for use within 
workflows.

### `slack-token` (*Required*)

Set this to `${{ secrets.ACTIONS_SLACK_BOT_TOKEN }}`. This token allows the workflow
to create and update a slack notification canvas. 

The secret is part of the UWIT-IAM github org and available to all of our repos.

### `gcloud-token` (*Required*)

Set this to `${{ secrets.GCR_TOKEN }}`. This token allows the notification 
action to update the gcloud datastore.

The secret is part of the UWIT-IAM github org and available to all of our repos.
